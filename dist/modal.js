/*!
 * SeaUI: modal.js v1.0.0
 * Copyright 2013-2014 seaui
 * Licensed under MIT(https://github.com/seaui/modal/blob/master/LICENSE)
 */
define("seaui/modal/1.0.0/modal",["jquery/jquery/1.10.1/jquery","seaui/transition/1.0.0/transition","./modal.css"],function(a,b){var c=a("jquery/jquery/1.10.1/jquery");a("seaui/transition/1.0.0/transition"),a("./modal.css");var d=function(a,b){this.options=b,this.$element=c(a),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,c.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};d.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},d.prototype.template=function(){},d.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},d.prototype.show=function(a){var b=this,d=c.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this)),this.backdrop(function(){var d=c.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show().scrollTop(0),d&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus();var e=c.Event("shown.bs.modal",{relatedTarget:a});d?b.$element.find(".modal-dialog").one(c.support.transition.end,function(){b.$element.focus().trigger(e)}).emulateTransitionEnd(300):b.$element.focus().trigger(e)}))},d.prototype.hide=function(a){a&&a.preventDefault(),a=c.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),c(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),c.support.transition&&this.$element.hasClass("fade")?this.$element.one(c.support.transition.end,c.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},d.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},d.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",c.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},d.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},d.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},d.prototype.backdrop=function(a){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&b;if(this.$backdrop=c('<div class="modal-backdrop '+b+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",c.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a)return;d?this.$backdrop.one(c.support.transition.end,a).emulateTransitionEnd(150):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,a).emulateTransitionEnd(150):a()):a&&a()};var e=c.fn.modal;c.fn.modal=function(a,b){return this.each(function(){var e=c(this),f=e.data("bs.modal"),g=c.extend({},d.DEFAULTS,e.data(),"object"==typeof a&&a);f||e.data("bs.modal",f=new d(this,g)),"string"==typeof a?f[a](b):g.show&&f.show(b)})},c.fn.modal.Constructor=d,c.fn.modal.noConflict=function(){return c.fn.modal=e,this},c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var b=c(this),d=b.attr("href"),e=c(b.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":c.extend({remote:!/#/.test(d)&&d},e.data(),b.data());b.is("a")&&a.preventDefault(),e.modal(f,this).one("hide",function(){b.is(":visible")&&b.focus()})}),c(document).on("show.bs.modal",".modal",function(){c(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){c(document.body).removeClass("modal-open")}),b.init=function(a,b){var d,e="myModal"+a.id,f='<div class="modal fade" id="'+e+'" tabindex="-1" role="dialog" aria-labelledby="myModalLabel'+a.id+'" aria-hidden="true">      <div class="modal-dialog">          <div class="modal-content">              <div class="modal-header">                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                  <h4 class="modal-title" id="myModalLabel'+a.id+'">'+a.title+'</h4>              </div>              <div class="modal-body"> '+a.content+' </div>              <div class="modal-footer">'+(a.buttonText.cancel?'<button type="button" class="btn btn-default" data-dismiss="modal">'+a.buttonText.cancel+"</button>":"")+(a.buttonText.ok?'<button type="button" class="btn btn-primary">'+a.buttonText.ok+"</button>":"")+"</div>          </div>      </div>      </div>";return c("body").append(f),d=c("#"+e),d.find(".btn-primary").bind("click",function(){d.modal("hide").one("hidden.bs.modal",function(){"function"==typeof b&&b()})}),d}}),define("seaui/modal/1.0.0/modal.css",[],function(){seajs.importStyle(".modal-open{overflow:hidden}.modal{display:none;overflow:auto;overflow-y:scroll;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transform:translate(0,-25%);-ms-transform:translate(0,-25%);transform:translate(0,-25%);-webkit-transition:-webkit-transform .3s ease-out;-moz-transition:-moz-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out}.modal.in .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.42857143px}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:20px}.modal-footer{margin-top:15px;padding:19px 20px 20px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}.modal-lg{width:900px}}")});
